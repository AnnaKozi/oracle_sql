### If you need to find the mode (most frequent) IP address for each customer_id in your customer_sessions table, you can use a similar approach 
## but with an additional PARTITION BY clause in the ROW_NUMBER() window function to partition the data by customer_id. Here's how you can do it:


SELECT customer_id, ip_address
FROM (
    SELECT customer_id,
           ip_address,
           COUNT(ip_address) AS ip_count,
           ROW_NUMBER() OVER (PARTITION BY customer_id ORDER BY COUNT(ip_address) DESC) AS rn
    FROM customer_sessions
    GROUP BY customer_id, ip_address
    ORDER BY customer_id, COUNT(ip_address) DESC
)
WHERE rn = 1;
